package com.duowan.common.httpclient;

import com.alibaba.fastjson.JSON;
import org.junit.Test;

/**
 * @author Arvin
 * @version 1.0
 * @since 2018/11/20 21:03
 */
public class HttpClientUtilsTest {

    @Test
    public void doGet() {
        String url = "http://usercenter.game.yy.com/user/UserWebService/getCacheUserByYyid?name=xxx&age=12";

        HttpTextResponse response = HttpClientUtils.get(url)
                .cookie("udb_oar", "28B335BF71385CA88ED39DF22DF7F735BDFE40B3F1B6097C972E419ABF1EB604E8816E38B4E93F7844B8DD2F2739C63DF380E83351C3F7095D5174D5147B833722ECCB7A9C00F78A30E4EE93940316CD05E65C231B085256E4B2AE71899D4418FD8399629E31FE59F5C93FDBD2A45E48EF501496722384D792B45F4D16A027EB63E24A1F47F9FE39936A52471424BE01F590B38DF2D358C95FAFACB6D22351F90966D03C862F20CAEF9EB0C7153D8AEFECFFFB07F304BD368B4265B4477842DE271D023A0E713321B10B278E4C9CA995B010158D973E06BDDE8A35B3657D0A9E3E3F6A1C8C504F891C5EEE166878A6783F143D4A6AD2ED480B65167D359D88285FB44A9B346A59D5BD0559871F465A31AD497AF48138FF97C2188396A6104D59FFAF963A2430163E5141FCA5D658B87724C5A845A3BB2F94213DAAEEE5003969")
                .cookie("username", "qq_7z2icq5ucu54")
                .param("name", "中文++ 撒旦")
                .header("xtoken", "asdweiunsybUabsdbskfhun")
                .responseText();

        String responseText = response.asText();

        System.out.println(responseText);
        System.out.println(JSON.toJSONString(response.headers(), true));

    }

    @Test
    public void doPost() {
        String url = "http://usercenter.game.yy.com/user/UserWebService/getCacheUserByYyid?name=xxx&age=12";

        String responseText = HttpClientUtils.post(url)
                .cookie("udb_oar", "28B335BF71385CA88ED39DF22DF7F735BDFE40B3F1B6097C972E419ABF1EB604E8816E38B4E93F7844B8DD2F2739C63DF380E83351C3F7095D5174D5147B833722ECCB7A9C00F78A30E4EE93940316CD05E65C231B085256E4B2AE71899D4418FD8399629E31FE59F5C93FDBD2A45E48EF501496722384D792B45F4D16A027EB63E24A1F47F9FE39936A52471424BE01F590B38DF2D358C95FAFACB6D22351F90966D03C862F20CAEF9EB0C7153D8AEFECFFFB07F304BD368B4265B4477842DE271D023A0E713321B10B278E4C9CA995B010158D973E06BDDE8A35B3657D0A9E3E3F6A1C8C504F891C5EEE166878A6783F143D4A6AD2ED480B65167D359D88285FB44A9B346A59D5BD0559871F465A31AD497AF48138FF97C2188396A6104D59FFAF963A2430163E5141FCA5D658B87724C5A845A3BB2F94213DAAEEE5003969")
                .cookie("username", "qq_7z2icq5ucu54")
                .responseText()
                .asText();

        System.out.println(responseText);

    }

    @Test
    public void doDelete() {
        String url = "http://usercenter.game.yy.com/user/UserWebService/getCacheUserByYyid?name=xxx&age=12";

        String responseText = HttpClientUtils.delete(url)
                .cookie("udb_oar", "28B335BF71385CA88ED39DF22DF7F735BDFE40B3F1B6097C972E419ABF1EB604E8816E38B4E93F7844B8DD2F2739C63DF380E83351C3F7095D5174D5147B833722ECCB7A9C00F78A30E4EE93940316CD05E65C231B085256E4B2AE71899D4418FD8399629E31FE59F5C93FDBD2A45E48EF501496722384D792B45F4D16A027EB63E24A1F47F9FE39936A52471424BE01F590B38DF2D358C95FAFACB6D22351F90966D03C862F20CAEF9EB0C7153D8AEFECFFFB07F304BD368B4265B4477842DE271D023A0E713321B10B278E4C9CA995B010158D973E06BDDE8A35B3657D0A9E3E3F6A1C8C504F891C5EEE166878A6783F143D4A6AD2ED480B65167D359D88285FB44A9B346A59D5BD0559871F465A31AD497AF48138FF97C2188396A6104D59FFAF963A2430163E5141FCA5D658B87724C5A845A3BB2F94213DAAEEE5003969")
                .cookie("username", "qq_7z2icq5ucu54")
                .responseText()
                .asText();

        System.out.println(responseText);

    }

    @Test
    public void doPut() {
        String url = "http://usercenter.game.yy.com/user/UserWebService/getCacheUserByYyid?name=xxx&age=12";

        String responseText = HttpClientUtils.put(url)
                .cookie("udb_oar", "28B335BF71385CA88ED39DF22DF7F735BDFE40B3F1B6097C972E419ABF1EB604E8816E38B4E93F7844B8DD2F2739C63DF380E83351C3F7095D5174D5147B833722ECCB7A9C00F78A30E4EE93940316CD05E65C231B085256E4B2AE71899D4418FD8399629E31FE59F5C93FDBD2A45E48EF501496722384D792B45F4D16A027EB63E24A1F47F9FE39936A52471424BE01F590B38DF2D358C95FAFACB6D22351F90966D03C862F20CAEF9EB0C7153D8AEFECFFFB07F304BD368B4265B4477842DE271D023A0E713321B10B278E4C9CA995B010158D973E06BDDE8A35B3657D0A9E3E3F6A1C8C504F891C5EEE166878A6783F143D4A6AD2ED480B65167D359D88285FB44A9B346A59D5BD0559871F465A31AD497AF48138FF97C2188396A6104D59FFAF963A2430163E5141FCA5D658B87724C5A845A3BB2F94213DAAEEE5003969")
                .cookie("username", "qq_7z2icq5ucu54")
                .responseText()
                .asText();

        System.out.println(responseText);

    }
}